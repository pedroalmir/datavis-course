running code multiple time asynchronously different variable trying app read data function call main app view controller causes query class health data month calculation array data returned separate function calculation class separate function view controller query take second due volume data able set asynchronously returned update problem call function month goes starts don return order time takes return varies means end variable changed halfway set datas calculation set started know way set delay calling calculation wastes app time duplicate code times call different class month stupid inefficient question effectively share code run time different variable time cheers example function view controller heartratecalculator full code