processing hl7 type message xslt regex combination xslt hl7 type message transform regex xslt combination format message datetime yyyymmddhhmmss unitname room bed location separated pipe person multiple location message looks patient location end xml result look probably substring type function location problem running relatively new xslt regex general don know recursion instance message multiple locations end result solve thanks advance