logic hkobserverqueri background deliveri app sync healthkit databas background wrap head logic determin hkobserverqueri run updatehandl data variou differ sampl type assum observ queri right appl function enablebackgrounddeliveryfortyp healthkit wake app new sampl specifi type save store enabl background deliveri execut observerqueri sai blood glucos weight run updatehandl input data health app happen enabl background deliveri sampl type