read hl7 message prescribing message type event type version read hl7 pipe delimited message custom java structure represents message structure message type event type version specific methods class code work matter hl7 message read don write reader different message event type segment subfield looked hapi prebuilt solution problem found extend hapi class iterate underlying message structure hapi creates parser solve problem good resources hapi appreciated