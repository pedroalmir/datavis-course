find hl7 segment ended carriage return present working tool construct hl7 message following way message start segment end message end 1c0d reached able add add 1c0d end hl7 message able add end segment accomplishing code check character segment name issue text message pid code add pid correct check start segment please help worked similar requirement link code thanks advance