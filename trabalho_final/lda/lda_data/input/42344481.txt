calcul window dicom implement dicom imag viewer don allow framework librari imag process algorithm calcul window window center window width follow thing work pixel data store byte pixel store hounsfield unit 1st code tri follow calcul rescal edit calcul window 2nd code return time imag black idea wrong edit edit code follow paolo brandoli suggest store int rescal intercept rescal slope window center window width black wrong suggest