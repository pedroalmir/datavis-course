perl search replac foreach loop help search replac given string find occur list thing insert carriag return provid sampl string attempt solv problem sampl input attempt worth work hl7 hl7 consist segment line segment begin msh 1st carriag return preced addit segment input line break carriag return middl segment allow encount new segment begin line allow intend pars input 1st strip line break find match valid segment header insert carriag return defin arrai valid segment header attempt foreach loop simpl search replac insert match think good idea match string plu match pv1 precis get expect output humbl ask expertis thank