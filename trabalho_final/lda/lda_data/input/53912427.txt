converting heart beat rate animate pulsing graphic math terrible graphic pulse synced pulsing controlled opacity value maxes fully opaque starts transparent ramp fraction back repeat function gets called millisecond bpm 2nd millisecond max opaque value steps increment