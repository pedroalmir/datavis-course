coremotion authorization problem currently developing app combination libraries corelocation coremotion healthkit issue initialize corelocation healthkit dialog allow authorization coremotion don dialog asking authorization error cmerrordomain access denied privacy setting motion fitness show entry app privacy setting app show entry related motion wiped testing device times eliminate pre existing setting app built ios swift tested identical results authorization dialog code test pedometer available gather data allowed pedometer declared class scope function currently attached button user triggered confusing part function tested bare bones app works correctly dialog allow motion fitness displayed device relevant system setting configured expected pedometer app work issue app preventing coremotion authorization dialog displayed known gotcha issues related working coremotion authorization