healthkit background delivery working hkobserverquery hkanchoredobjectquery set appdelegate advised documentation callbacks new data points quickly noticed testing make modification healthkit data deletion new hksample points added callback new point added point callback new data point plus previous deletes callback contains deletes thing worried apple says hkdeletedobjects disappear won show queries undetermined period time https developer apple library prerelease ios documentation healthkit reference hkdeletedobject classreference index html app synchronizing data healthkit method happens case user deletes data long period time doesn add new points launch app foreground think miss delete entirely case tldr callback hkanchoredobjectquery called case least new hksample deletes available supposed handle long periods inactivity delete
