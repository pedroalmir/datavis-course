swift newbie porting objective applehealth integration code swift invoked flutter dart background lock screen legacy obj app pretty immediately suspends execution behaviour doesn happen swift code port dispatchqueue swift legacy obj app reason important suspend user locks iphone screen applehealth encrypts data unavailable understanding correct suspend dispatchqueue currently executing block complete subsequents blocks won start execution tell swift code port mimics obj logic hints behaves differently missing greatly appreciated dispatching new app immediately suspend executing code submitted dispatchqueue backgrounded lock screened extremely happy
