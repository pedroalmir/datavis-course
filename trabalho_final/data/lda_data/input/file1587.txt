help search replace given string finding occurance list things inserting carriage return providing sample string attempt solving problem sample input attempt worth working consists segments line segment beginning msh carriage return preceding additional segment input line breaks carriage returns middle segment allowed encounter new segment beginning line allowed intend parse input strip line breaks find matches valid segment headers insert carriage return defined array valid segment headers attempting foreach loop simple search replace insert \before match think good idea match string plus match precise getting expected output humbly ask expertise thanks
