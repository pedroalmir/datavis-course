following method supports receiving updates background following documentation block passed update handler call block soon done processing incoming data calling block tells healthkit successfully received background data call block healthkit continues attempt launch app backoff algorithm app fails respond three times healthkit assumes app receive data stops sending background updates looking posts confusion revolving handler questions handler called called late think app received query update causing hit background update strikes back algorithm documentation states called handling queries depending long take run queries sounds dangerously close hitting background update strikes needed shouldn system know app launched received background update background wakes app background seconds call handler deal background update strikes hit background update strikes stops sending updates permanent start sending background updates bug prevented handler called fixed app stuck receiving updates reset app launched updated keep app running background handler called part purpose side effect part purpose long run needing stop hit background update strike
