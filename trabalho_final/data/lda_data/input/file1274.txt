currently developing app combination three libraries corelocation coremotion healthkit issue initialize corelocation healthkit dialog allow authorization coremotion don dialog asking authorization error cmerrordomain access denied privacy settings motion fitness show entry app privacy settings app show entry related motion wiped testing device times eliminate pre existing setting app built ios swift tested identical results authorization dialog code test pedometer available gather data allowed pedometer declared class scope function currently attached button user triggered confusing part function tested bare bones app works correctly dialog allow motion fitness displayed devices relevant system settings configured expected pedometer\apps work issues app preventing coremotion authorization dialog displayed known gotchas issues related working coremotion authorization
