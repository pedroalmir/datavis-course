rephrasing original post research dcm che dicom protocol dcm che toolkit build application essentially going simple image archive able studies demand modalities tool implements store scu service query modalities requirement able delete periodically studies local archive new dicom protocol dcm che trying understand logic underlying dicomdir dcm che tool dcmqrscp available services methods deleting studies questions following context dicom protocol valid term delete study dcm che tool dcmdir deleting study tool happens actually delete records referring dicom files specified file directory arguments existing directory file setting record flag files remain filesystem try delete study way option tool dicomdir query archive find scu find study record dicomdir marked inactive perform find query archive fetch try delete study files manually filesystem guess dicomdir corrupted ways part protocol deleting consistent way study permanently dicomdir records filesystem possibly dicomdir code delete study similar approach option dicomdir actually removereferenceto method calling end dicomdirwritter method thanks time looking info declare actually research dicom protocol dcm che toolkit able delete study synchonize dicomdir remove studies files record flag steps safely delete files disk
