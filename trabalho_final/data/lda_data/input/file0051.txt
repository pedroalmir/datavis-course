created module handle authentication microsoft healthvault beginrequest event handler checking authtoken received creating new cookie hold user information later controller losing cookie looking wrong place event handler take httpapplication parameter add cookie application response cookies collection question comes instance httpapplication singleton system web httpcontext current applicationinstance cookies set point lifecycle later wiped wrong help greatly appreciated update changed things posed question handling prerequesteventhandler httpmodule letting healthvault webapplicationutilities object cookie creation storage conceptually changed having trouble creating cookie reading time created cookie creation code httpmodule event handler notice redirect commented request auth cookie created default action able read loadpersoninfofromcookie found redirect caused cookie client noticed subsequent requests cookie present request cookies collection loadpersoninfofromcookie runs end null strangely cookie response object contents empty action code update cookie immediate window bumped expires time days default action right created action request interestingly cookie defined response object value gone expires time reset
